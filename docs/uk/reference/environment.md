# Змінні середовища

Повна довідка всіх змінних середовища.

## Змінні сервера

| Змінна | За замовчуванням | Опис |
|--------|------------------|------|
| `JAVA_XMS` | `4G` | Мінімальний розмір heap Java |
| `JAVA_XMX` | `8G` | Максимальний розмір heap Java |
| `BIND_PORT` | `5520` | UDP порт сервера |
| `AUTO_DOWNLOAD` | `true` | Автозавантаження при запуску |
| `SERVER_EXTRA_ARGS` | - | Додаткові аргументи |
| `TZ` | `UTC` | Часовий пояс контейнера |

## Змінні панелі

| Змінна | За замовчуванням | Опис |
|--------|------------------|------|
| `PANEL_USER` | `admin` | Ім'я користувача |
| `PANEL_PASS` | `admin` | Пароль |
| `PANEL_PORT` | `3000` | HTTP порт сервера |
| `JWT_SECRET` | (випадковий) | Секретний ключ для JWT |
| `MODTALE_API_KEY` | - | API ключ для Modtale |
| `HOST_DATA_PATH` | - | Шлях хоста для прямого доступу |

## Змінні Docker

| Змінна | За замовчуванням | Опис |
|--------|------------------|------|
| `CONTAINER_NAME` | `hytale-server` | Назва контейнера сервера |

## Детальні описи

### JAVA_XMS / JAVA_XMX

Контролює виділення пам'яті JVM.

```bash
# Мінімум 4GB, максимум 8GB
JAVA_XMS=4G
JAVA_XMX=8G
```

::: tip Рекомендації щодо RAM
| Гравці | Рекомендовано |
|--------|---------------|
| 1-10 | 4G |
| 10-20 | 6G |
| 20-50 | 8G |
| 50+ | 12G+ |
:::

### AUTO_DOWNLOAD

Коли `true`, сервер автоматично завантажить `HytaleServer.jar` та `Assets.zip` при першому запуску.

```bash
# Вимкнути для ARM64 або ручного налаштування
AUTO_DOWNLOAD=false
```

::: warning ARM64
Автозавантаження **недоступне на ARM64**. Встановіть `false` та надайте файли вручну.
:::

### SERVER_EXTRA_ARGS

Передає додаткові аргументи виконуваному файлу сервера.

```bash
# Увімкнути моди
SERVER_EXTRA_ARGS=--mods mods

# Кілька аргументів
SERVER_EXTRA_ARGS=--mods mods --debug
```

### TZ (Часовий пояс)

Встановлює часовий пояс контейнера для timestamps логів.

```bash
TZ=Europe/Kyiv
TZ=Europe/Warsaw
TZ=Europe/Berlin
```

[Повний список часових поясів](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)

### JWT_SECRET

Секретний ключ для підпису JWT токенів. Якщо не вказано, генерується випадковий ключ при запуску.

```bash
# Опціонально, але рекомендовано для постійних сесій
JWT_SECRET=ваш-дуже-довгий-випадковий-рядок
```

::: info
Якщо не налаштовано, новий секрет генерується при кожному перезапуску панелі, що інвалідує всі існуючі сесії.
:::

### MODTALE_API_KEY

API ключ для інтеграції з репозиторієм модів [Modtale](https://modtale.com).

```bash
MODTALE_API_KEY=ваш-modtale-api-ключ
```

Коли налаштовано, вмикає:
- Перегляд модів у панелі
- Встановлення модів одним кліком
- Перевірку оновлень

### HOST_DATA_PATH

Шлях у файловій системі хоста, де зберігатимуться дані панелі. Коли налаштовано, сервери використовують абсолютні bind mounts замість томів Docker.

```bash
HOST_DATA_PATH=/home/user/hytale-data
```

Коли налаштовано:
- Дані панелі зберігаються за вказаним шляхом хоста
- Нові сервери використовують абсолютні шляхи: `/home/user/hytale-data/servers/{id}/server:/opt/hytale`
- Файли доступні безпосередньо з хоста без використання панелі

::: tip Прямий доступ до файлів
Корисно, коли ви хочете редагувати файли сервера, завантажувати моди або керувати світами безпосередньо з файлової системи хоста замість веб-панелі.
:::

## Приклад файлу .env

```bash
# ===================
# Налаштування сервера
# ===================
JAVA_XMS=4G
JAVA_XMX=8G
BIND_PORT=5520
AUTO_DOWNLOAD=true
SERVER_EXTRA_ARGS=--mods mods
TZ=Europe/Kyiv

# ===================
# Налаштування панелі
# ===================
PANEL_USER=myadmin
PANEL_PASS=супербезпечнийпароль123
PANEL_PORT=3000
JWT_SECRET=змініть-це-на-випадковий-рядок

# ===================
# Опціональні інтеграції
# ===================
MODTALE_API_KEY=ваш-api-ключ

# ===================
# Зберігання даних
# ===================
# Розкоментуйте для зберігання даних на хості замість тому Docker
# HOST_DATA_PATH=/home/user/hytale-data
```
