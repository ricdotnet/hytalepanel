# HytalePanel Development - hot reload enabled
# Servers are created dynamically from the Dashboard
services:
  panel:
    build:
      context: ./panel
      dockerfile: Dockerfile.dev
    container_name: hytale-panel-dev
    restart: unless-stopped
    ports:
      - "${PANEL_PORT:-3000}:3000"
      - "5173:5173"
    environment:
      TZ: ${TZ:-UTC}
      PANEL_PORT: 3000
      PANEL_USER: ${PANEL_USER:-admin}
      PANEL_PASS: ${PANEL_PASS:-admin}
      JWT_SECRET: ${JWT_SECRET:-}
      MODTALE_API_KEY: ${MODTALE_API_KEY:-}
      CURSEFORGE_API_KEY: ${CURSEFORGE_API_KEY:-}
      DATA_PATH: /opt/hytale-panel/data
      HOST_DATA_PATH: ${HOST_DATA_PATH:-${PWD}/data/panel}
      DISABLE_AUTH: ${DISABLE_AUTH:-false}
      BASE_PATH: ${BASE_PATH:-}
    volumes:
      - ./panel/backend/src:/app/backend/src
      - ./panel/frontend/src:/app/frontend/src
      - ./panel/frontend/public:/app/frontend/public
      - ./panel/tsconfig.base.json:/app/tsconfig.base.json
      - /var/run/docker.sock:/var/run/docker.sock
      - ./data/panel:/opt/hytale-panel/data
